{"0": {
    "doc": "About",
    "title": "About",
    "content": "This is the base Jekyll theme. You can find out more info about customizing your Jekyll theme, as well as basic Jekyll usage documentation at [jekyllrb.com](https://jekyllrb.com/) You can find the source code for Minima at GitHub: [jekyll][jekyll-organization] / [minima](https://github.com/jekyll/minima) You can find the source code for Jekyll at GitHub: [jekyll][jekyll-organization] / [jekyll](https://github.com/jekyll/jekyll) [jekyll-organization]: https://github.com/jekyll ",
    "url": "https://docs.blacktallman.com/about.html",
    "relUrl": "/about.html"
  },"1": {
    "doc": "Adding Plugins",
    "title": "Adding Plugins",
    "content": "How to add new plugins. ",
    "url": "https://docs.blacktallman.com/tutorials/members/addPlugin.html",
    "relUrl": "/tutorials/members/addPlugin.html"
  },"2": {
    "doc": "Cache Server",
    "title": "Cache Server",
    "content": "{: .text-delta } 1. TOC {:toc} Cache Daemon Release Notes -------------------------- LOCKSS periodically releases new Daemon versions. Some releases are pure bug fixes others include new features. Our [Daemon Release Notes](https://wiki.metaarchive.org/metawiki/index.php/CacheDaemon_ReleaseNotes) page summarizes the changes that are relevant to the MetaArchive network. Cache Purchasing ---------------- In order to keep the workloads as reasonable as possible at each member institution, the MetaArchive Cooperative makes a selection of one hardware configuration in October of each year, and supports the installation and maintenance of the network's software across all of the servers in the network that adopt that configuration. The current hardware Technical Specifications can be obtained [here](http://www.metaarchive.org/public/resources/charter_member/ma_2014technicalspecifications.pdf) Member institutions that choose to implement this hardware gain the assistance of the MetaArchive central staff and extended community in the installation, maintenance, and troubleshooting of their preservation server. This substantially decreases the burden of work on the local systems administrators at member sites. The MetaArchive identifies a vendor with the most competitive product that meets our current Technical Specifications. For new Member institutions that must provide additional documentation to their Office of Procurement to justify purchases from such vendors in the event they are not registered with their institution, the MetaArchive is providing a [Sole Source Checklist](http://www.metaarchive.org/public/resources/for_members/Sole_Source_Procurement.doc) to facilitate purchase from our preferred vendor. Cache Setup ----------- 1. The member institution provides an IP and domain name for the new cache. 2. MetaArchive staff makes sure the new cache has access to the MetaArchive configuration files 3. MetaArchive staff updates the IP lists used by web server administrators at member institutions to maintain firewall rules allowing the new cache to access memeber content. 4. MetaArchive Staff provides an ISO and install instructions [Cache Configuration](https://wiki.metaarchive.org/metawiki/index.php/Cache_Configuration) Cache Access, Ports, and Firewalls ---------------------------------- The LOCKSS daemon's web interface runs on port 8081. Caches communicate with each other by sending and receiving messages on port 9729. Caches provide port 8080 as a proxy port for preserved content, useful when content needs to be restored. Port 22 is used to ssh into a cache. For proper monitoring by the central staff port 8081 needs to be opened to administrative servers. For network communication to work smoothly administrators need to make sure that port 9729 of the caches under their supervision are open to all other cache IPs in the network. The relevant IP addresses are hosted at two urls. Detailed instructions about how to use these IP lists can be found in the README file at the bottom of the lists: 1. [admin.metaarchive.org/protected/network/ips](http://admin.metaarchive.org/protected/network/ips). Access to this list requires use of the relevant login/pass on our [Credentials](https://wiki.metaarchive.org/metawiki/index.php/Credentials) page. 2. [admin.metaarchive.org/network/ips/](http://admin.metaarchive.org/network/ips). Access to this list is open to all of the caches in the network. Cache Maintenance ----------------- Occasionally MetaArchive staff ask system administrators to perform local administration tasks. This happens infrequently. It usually involves executing specific command or scripts provided by MetaArchive staff. The commands needed to perform maintenance tasks are detailed in [CachesMaintain](https://wiki.metaarchive.org/metawiki/index.php/CachesMaintain) Cache Bandwidth --------------- - The bandwidth for the cache has two parts. - There is almost always a low amount of bandwidth being used for communications with the other caches. Short messages are constantly sent back and forth. A very busy cache might send and receive 300-400 Mbytes of data in a week in these messages. - The second part is when the cache needs to ingest content. This is generally a lot of bandwidth over short periods of time. Your cache might need to receive from a few GBytes of data, to hundreds of Gbytes over just a day or two. Right now this ingest happens maybe once or twice a month at most. - When it comes to bandwidth the peak usage comes when our members are having their own content ingested by the other caches in the network. But this is not an issue for your Lockss cache, it will be an issue for you content server. Cache Monitoring ---------------- Some of our members use Nagios to monitor their servers. A suggested configuration for metaarchive/LOCKSS caches can be found at [CacheNagios](https://wiki.metaarchive.org/metawiki/index.php/CacheNagios) ",
    "url": "https://docs.blacktallman.com/docs/lockss/cache-server.html",
    "relUrl": "/docs/lockss/cache-server.html"
  },"3": {
    "doc": "Conspectus",
    "title": "Conspectus",
    "content": "This page is about conspectus. ",
    "url": "https://docs.blacktallman.com/docs/conspectus.html",
    "relUrl": "/docs/conspectus.html"
  },"4": {
    "doc": "Restart All Daemons",
    "title": "Restart All Daemons",
    "content": "The daemon can make most configuration changes on the fly, but some configuration parameterss are only read at startup from the title database. It takes a restart to force existing AUs to start using an updated plugin. To cause all the daemons in your network to exit and restart, set org.lockss.app.exitOnce to true, wait twice the time defined in org.lockss.config.reloadInterval (or more) then set it back to false. Daemons exit when the see exitOnce transition from false to true. (If it's true when they start, they won't exit until it goes false, then true again.) Daemons check for prop changes approximately every reloadInterval - there's some randomization applied, so you have to wait longer than that interval to make sure all daemons have seen the change. Two times the interval is probably longer than necessary, but safe. ",
    "url": "https://docs.blacktallman.com/tutorials/staff/daemonForceRestart.html",
    "relUrl": "/tutorials/staff/daemonForceRestart.html"
  },"5": {
    "doc": "Home",
    "title": "Home",
    "content": "This is a docs sandbox. ",
    "url": "https://docs.blacktallman.com/",
    "relUrl": "/"
  },"6": {
    "doc": "LOCKSS",
    "title": "LOCKSS",
    "content": "This page is about LOCKSS. ",
    "url": "https://docs.blacktallman.com/docs/lockss.html",
    "relUrl": "/docs/lockss.html"
  },"7": {
    "doc": "Member Tutorials",
    "title": "Member Tutorials",
    "content": "### For All Roles - [MetaArchive Ingest Procedures Overview](https://wiki.metaarchive.org/metawiki/index.php/MetaArchive_Ingest_Procedures_Overview) ### For Plugin Developers (for more info see [Plugins](https://wiki.metaarchive.org/metawiki/index.php/Plugins)) - [How to Download and Open Plugin Tool on Linux Platforms](http://www.lockss.org/locksswiki/index.php/Plugin_Tool) - [How to Download and Open Plugin Tool on Apple Platforms](https://wiki.metaarchive.org/metawiki/index.php/HowToOpenPluginOnMac) - [Getting Started with BagIt for MetaArchive](https://wiki.metaarchive.org/metawiki/index.php/Getting_Started_with_BagIt_for_MetaArchive) ### For Cache Administrators (for more info see [Caches](https://wiki.metaarchive.org/metawiki/index.php/Caches)) - [How to Configure the LOCKSS Daemon on a Cache](https://wiki.metaarchive.org/metawiki/index.php/HowToConfigureLockss) - [How to Gain Access to the LOCKSS Daemon User Interface](https://wiki.metaarchive.org/metawiki/index.php/HowToGetAccessToUI) - [How to Add Archival Units (AUs) to your LOCKSS Servers Configuration](https://wiki.metaarchive.org/metawiki/index.php/HowToAddAus) - [How to Ingest New AUs with a New Plugin](https://wiki.metaarchive.org/metawiki/index.php/HowToIngestAUsWithNewPlugin) - [How to View the CrawlStatus of an AU](https://wiki.metaarchive.org/metawiki/index.php/HowToViewAUCrawlStatus) - [How to Deactivate an AU](https://wiki.metaarchive.org/metawiki/index.php/HowToInactivateAU) - [How to Delete an AU](https://wiki.metaarchive.org/metawiki/index.php/HowToDeletaAU) - [How to Remove Files of Deleted AUs](https://wiki.metaarchive.org/metawiki/index.php/HowToRemoveCachedFiles) - [How to Find Archival Units with Fetch Errors](https://wiki.metaarchive.org/metawiki/index.php/HowToFindAusWithFetchErrors) - [How to Diagnose a Fetch Error](https://wiki.metaarchive.org/metawiki/index.php/HowToFetchError) - [How to Tell Daemons to Stop Harvesting an Archival Unit's Content from the Web](https://wiki.metaarchive.org/metawiki/index.php/HowToStopHarvestingForAUs) - [How to Speed Up Data Recovery after a Crash](https://wiki.metaarchive.org/metawiki/index.php/HowToSpeedUpDataRecovery) ### For Collection Managers - [How to Gain Access to the LOCKSS Daemon User Interface](https://wiki.metaarchive.org/metawiki/index.php/HowToGetAccessToUI) - [How to View the Content of an AU](https://wiki.metaarchive.org/metawiki/index.php/HowToViewAUContent) - [How to Enable the Audit Proxy of an AU](https://wiki.metaarchive.org/metawiki/index.php/HowToAuditProxyAUContent) - [How to Import the AU Sizes from the Cache Manager into Excel](https://wiki.metaarchive.org/metawiki/index.php/HowToImportAUSizesToExcelFromCacheManager) - [How to Retrieve Cache UI Tables in text,xml, and csv formats](https://wiki.metaarchive.org/metawiki/index.php/HowToRetrieveFormattedCacheTables) ",
    "url": "https://docs.blacktallman.com/tutorials/members.html",
    "relUrl": "/tutorials/members.html"
  },"8": {
    "doc": "Plugins",
    "title": "Plugins",
    "content": "Plugins play a central role in any LOCKSS network. They guide LOCKSS daemons in their decisions as to which file urls to fetch and preserve when they crawl provider web sites. Writing Plugins can be easy or time-intensive depending on a developer's familiarity with things like regular expressions and various web and browser technologies. In any case it is vital for the successful preservation of content to make sure plugins are properly written and tested. The MetaArchive project has developed practices, standards, and best practices along with documentation to help plugin developers. ### For Beginners The following links provide a set of documentation for developers to begin educating themselves and preparing for their plugin development: - [General Overview of Digital Preservation with MetaArchive](https://wiki.metaarchive.org/metawiki/index.php/DDPwithMetaArchive) - [Introduction to Plugins](http://www.lockss.org/locksswiki/index.php/Plugins), [Plugin Tool](http://www.lockss.org/locksswiki/index.php/Plugin_Tool), and [Plugin Tool Tutorial](http://www.lockss.org/locksswiki/index.php/Plugin_Tool_Tutorial) from the LOCKSS wiki - [Relationships explained: Plugins, LOCKSS daemons, Archival Units, Manifest Pages, and Harvesting Choices](https://wiki.metaarchive.org/metawiki/index.php/PluginHowItWorks) ### Plugin Developers The following links provide a set of documentation to help guide developers through the process of writing and preparing plugins for their collections: - [MetaArchive Ingest Procedures Overview](https://wiki.metaarchive.org/metawiki/index.php/MetaArchive_Ingest_Procedures_Overview) - [Making Use of Subversion](https://wiki.metaarchive.org/metawiki/index.php/Subversion) - [Getting Started with BagIt for MetaArchive](https://wiki.metaarchive.org/metawiki/index.php/Getting_Started_with_BagIt_for_MetaArchive) - [Plugin Development Cycle ](https://wiki.metaarchive.org/metawiki/index.php/PluginDevelopmentCycle)| [Test Cache Access](https://wiki.metaarchive.org/metawiki/index.php/TestCacheAccess) - [Plugin/Manifest Standards and Recommendation](https://wiki.metaarchive.org/metawiki/index.php/PluginStandards) - [Learn By Example ](https://wiki.metaarchive.org/metawiki/index.php/PluginSandbox)and [HowToProtectProprietaryContent](https://wiki.metaarchive.org/metawiki/index.php/HowToProtectProprietaryContent) - [The Plugin Xml format ](https://wiki.metaarchive.org/metawiki/index.php/PluginXmlFormat)(advanced developers) ### All Plugin Pages - [Plugins at Virginia Tech](https://wiki.metaarchive.org/metawiki/index.php/PluginsAtVirginiaTech) - [CONTENTdm Plugin Examples](https://wiki.metaarchive.org/metawiki/index.php/CONTENTdm_Plugin_Examples) - [PluginDaemonCrawlProcedure](https://wiki.metaarchive.org/metawiki/index.php/PluginDaemonCrawlProcedure) - [PluginDevelopmentCycle](https://wiki.metaarchive.org/metawiki/index.php/PluginDevelopmentCycle) - [PluginHowItWorks](https://wiki.metaarchive.org/metawiki/index.php/PluginHowItWorks) - [PluginSandbox or Learn By Example](https://wiki.metaarchive.org/metawiki/index.php/PluginSandbox) - [PluginsAtVirginiaTech](https://wiki.metaarchive.org/metawiki/index.php/PluginsAtVirginiaTech) - [PluginsResources](https://wiki.metaarchive.org/metawiki/index.php/PluginsResources) - [PluginStandards](https://wiki.metaarchive.org/metawiki/index.php/PluginStandards) - [PluginToolDaemonDifferences](https://wiki.metaarchive.org/metawiki/index.php/PluginToolDaemonDifferences) - [PluginWhyDoServersNotSeeMe](https://wiki.metaarchive.org/metawiki/index.php/PluginWhyDoServersNotSeeMe) - [PluginXmlFormat](https://wiki.metaarchive.org/metawiki/index.php/PluginXmlFormat) ",
    "url": "https://docs.blacktallman.com/docs/lockss/plugins.html",
    "relUrl": "/docs/lockss/plugins.html"
  },"9": {
    "doc": "Production Network",
    "title": "Production Network",
    "content": "This page is about the LOCKSS production network. ",
    "url": "https://docs.blacktallman.com/docs/lockss/prod-network.html",
    "relUrl": "/docs/lockss/prod-network.html"
  },"10": {
    "doc": "Staff Tutorials",
    "title": "Staff Tutorials",
    "content": "### For MetaArchive Central Staff - [How to Force All Daemons to Restart](https://wiki.metaarchive.org/metawiki/index.php/HowToRestartAllDaemons) - [How to Speed Up Data Recovery after a Crash](https://wiki.metaarchive.org/metawiki/index.php/HowToSpeedUpDataRecovery) - [How To Proxy Content between Two LOCKSS caches](https://wiki.metaarchive.org/metawiki/index.php/HowToProxyContent) - [How to Remove a Plugin from a LOCKSS Network](https://wiki.metaarchive.org/metawiki/index.php/HowToRemoveAPlugin) - [How to Investigate when a network produces many No Quorum Errors](https://wiki.metaarchive.org/metawiki/index.php/HowToInvestigateNoQuorum) - [How to Use Wireshark as a packet sniffer - And detect SSL is being used](https://wiki.metaarchive.org/metawiki/index.php/HowToCheckNetworkPackets) - [How to Create a Virtual PC for the test Network](https://wiki.metaarchive.org/metawiki/index.php/HowToBuildVirtBoxPC) - [How to Create a Cloud Computer in Amazon EC2 for the Properties Server](https://wiki.metaarchive.org/metawiki/index.php/HowToCloudComputing) - [How to Manage MA controlled Hostnames](https://wiki.metaarchive.org/metawiki/index.php/HowToCustomHostNames) ",
    "url": "https://docs.blacktallman.com/tutorials/staff.html",
    "relUrl": "/tutorials/staff.html"
  },"11": {
    "doc": "Staging Server",
    "title": "Staging Server",
    "content": "{: .text-delta } 1. TOC {:toc} # Maintaining Firewalls of Web Servers that host content preserved in MetaArchive System administrators maintaining servers that host content preserved in the MetaArchive network are expected to keep firewalls around preserved content open to MetaArchive. The relevant IP addresses are hosted at two urls. Detailed instructions about how to use these IP lists can be found in the README file at the bottom of the lists: - admin.metaarchive.org/protected/network/ips. Access to this list requires use of the relevant login/pass on our Credentials page. - admin.metaarchive.org/network/ips/. Access to this list is open to all of the caches in the network. MetaArchive staff alerts member institutions via an email whenever firewalls need to be updated. # Keeping Load on Web Servers Low When a LOCKSS daemon crawls a site, it skips downloading a file, if it can determine that the file on the web server is not younger than the file the daemon maintains on the local disk. Daemons use If-Modified-Since if the page previously fetched was served with a Last-Modified Date. Thus if you configure your sites to serve 'Last-Modified;' information out in http headers LOCKSS daemons put less load on your servers. If you preserve a site that LOCKSS crawls frequently and thoroughly you get a big payoff (and so will the network) if you configure your server/site to serve Last-Modified information. Even if your site generates content dynamically, it is helpful if you can at least serve Last-Modified info for documents, ie images, pdfs, ... To turn Last-Modified on in an Apache server do `IndexOptions TrackModified`. # Excluding LOCKSS Traffic from Web Statistics The LOCKSS wiki has information on how LOCKSS caches identify themselves when they interact with your web site, which you can use to exclude traffic generated by LOCKSS caches from traffic statistics. Please refer to LOCKSS Compliance/Statistics ",
    "url": "https://docs.blacktallman.com/docs/lockss/staging-server.html",
    "relUrl": "/docs/lockss/staging-server.html"
  },"12": {
    "doc": "Test Network",
    "title": "Test Network",
    "content": "{: .text-delta } 1. TOC {:toc} ### Active Test Caches The active test caches, the amount of space on their disks, and the content they currently maintain are available at - Access a cache by clicking on the link in the Hostname/Admin column ### Logging into a Test Cache Members need to request that the IP address of their desktop be added to the Admin Access List of test caches.\\ Please contact the [MetaArchive Staff](https://wiki.metaarchive.org/metawiki/index.php/User:Staff) The Login Credentials are listed at [Credentials](https://wiki.metaarchive.org/metawiki/index.php/Credentials) ### Locating Content in the Test Network To find the status of archival units that use a particular plugin (plugin prefix) use [archival units list](http://tstmonitor.metaarchive.org/archival_units/list) and enter a (partial) plugin name (replace '.' by '|') and choose 'All' instead of the default 'Problem' list mode. Alternatively use [archival unit lookup](http://tstmonitor.metaarchive.org/archival_units/status) and enter the desired values for plugin names, base_urls, or other parameters. Archival units that are part of the [DOC](http://metaarchive.org/conspectoy/archives/find/DOC) archive in the ConspecToy can be listed by looking for all archival units with a plugin prefix of 'doc.plugins'. ### Viewing the Status of an Archival Unit - To find which cache preserves a copy of a particular archival units, click on [archival units](http://tstmonitor.metaarchive.org/archival_units/list) in the top row menu and enter - (part of) the collection title the archival unit belongs to - one of the paramter values used by the archival unit - or (part of) the plugin name, with '.' replaced by '|' [HowToViewAUContent](https://wiki.metaarchive.org/metawiki/index.php/HowToViewAUContent) and [HowToViewAUCrawlStatus](https://wiki.metaarchive.org/metawiki/index.php/HowToViewAUCrawlStatus) explain how to view the status details of an archival unit in the LOCKSS DAemon User interface. ### Test Cache Configuration All Caches in the test network are configured as follows: - Title Database:  - the Title Database contains all archival units that are marked test or retest in the Conspectus; as well as - selected archival units from the [DOC](http://metaarchive.org/conspectoy/archives/find/DOC) archive in the Conspectus - Plugin Repository:  - jar files are regenerated by a cronjob which updates xml files to the latest version that was committed to the trunk of the MetaArchive Subversion Repository - the plugin jar files show their modification dates at the url above, so that plugin developers can check whether a jar file has in fact been updated since a change to its xml was committed -  contains a trace of the script that updates a plugin and jars them for the test network -  contains the currently known test plugins The title database, plugin jar, and xml files are all updated every 15 min. Test caches update their configurations every 15 min as well, so that in the worst case it takes 30 min for a new plugin or archival unit to be known to a daemon on a LOCKSS test cache. The update script for plugins logs its actions at [lockss_test/plugins/update_log](http://admin.metaarchive.org/lockss_test/plugins/update_log) ### Pushing an AU into the Test Network Please keep in mind that LOCKSS caches can ONLY understand an archival unit if: - it is part of the Title Database; and - its plugin is properly configured/updated in the Plugin Repository Only Archival Units whose status is marked as test or retest in the Conspectus (see [ConspectusHowTo](https://wiki.metaarchive.org/metawiki/index.php/ConspectusHowTo)) become part of the Title Database. Only plugins that are maintained in the trunk of the MetaArchive Subversion Repository are made available, see [Subversion info](https://wiki.metaarchive.org/metawiki/index.php/Subversion). You can see the latest Title Database at the link above. To actually add the AUs to a cache, see [How to add AUs](https://wiki.metaarchive.org/metawiki/index.php/HowToAddAus). ",
    "url": "https://docs.blacktallman.com/docs/lockss/test-network.html",
    "relUrl": "/docs/lockss/test-network.html"
  },"13": {
    "doc": "Tutorials",
    "title": "Tutorials",
    "content": " ",
    "url": "https://docs.blacktallman.com/tutorials.html",
    "relUrl": "/tutorials.html"
  }
}
