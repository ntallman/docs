<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Cache Server - Docs Site</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Cache Server | Docs Site</title> <meta name="generator" content="Jekyll v4.2.0" /> <meta property="og:title" content="Cache Server" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A private sandbox for modeling documentation." /> <meta property="og:description" content="A private sandbox for modeling documentation." /> <link rel="canonical" href="https://docs.blacktallman.com/docs/lockss/cache-server.html" /> <meta property="og:url" content="https://docs.blacktallman.com/docs/lockss/cache-server.html" /> <meta property="og:site_name" content="Docs Site" /> <script type="application/ld+json"> {"@type":"WebPage","url":"https://docs.blacktallman.com/docs/lockss/cache-server.html","headline":"Cache Server","description":"A private sandbox for modeling documentation.","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="https://docs.blacktallman.com/" class="site-title lh-tight"> Docs Site </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="https://docs.blacktallman.com/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="https://docs.blacktallman.com/about.html" class="nav-list-link">About</a></li><li class="nav-list-item"><a href="https://docs.blacktallman.com/docs/conspectus.html" class="nav-list-link">Conspectus</a></li><li class="nav-list-item"><a href="https://docs.blacktallman.com/glossary.html" class="nav-list-link">Glossary</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://docs.blacktallman.com/docs/lockss.html" class="nav-list-link">LOCKSS</a><ul class="nav-list "><li class="nav-list-item active"><a href="https://docs.blacktallman.com/docs/lockss/cache-server.html" class="nav-list-link active">Cache Server</a></li><li class="nav-list-item "><a href="https://docs.blacktallman.com/docs/lockss/plugins.html" class="nav-list-link">Plugins</a></li><li class="nav-list-item "><a href="https://docs.blacktallman.com/docs/lockss/prod-network.html" class="nav-list-link">Production Network</a></li><li class="nav-list-item "><a href="https://docs.blacktallman.com/docs/lockss/staging-server.html" class="nav-list-link">Staging Server</a></li><li class="nav-list-item "><a href="https://docs.blacktallman.com/docs/lockss/test-network.html" class="nav-list-link">Test Network</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://docs.blacktallman.com/tutorials.html" class="nav-list-link">Tutorials</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://docs.blacktallman.com/tutorials/members.html" class="nav-list-link">Member Tutorials</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://docs.blacktallman.com/tutorials/members/addPlugin.html" class="nav-list-link">Adding Plugins</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://docs.blacktallman.com/tutorials/staff.html" class="nav-list-link">Staff Tutorials</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://docs.blacktallman.com/tutorials/staff/daemonForceRestart.html" class="nav-list-link">Restart All Daemons</a> </li></ul></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Docs Site" aria-label="Search Docs Site" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//metaarchive.org" class="site-button" > MetaArchive </a> </li> <li class="aux-nav-list-item"> <a href="mailto:support@metaarchive.org" class="site-button" > Support </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="https://docs.blacktallman.com/docs/lockss.html">LOCKSS</a></li> <li class="breadcrumb-nav-list-item"><span>Cache Server</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <details open=""> <summary class="text-delta"> Table of contents </summary> <ol id="markdown-toc"> <li><a href="#cache-purchasing" id="markdown-toc-cache-purchasing">Cache Purchasing</a></li> <li><a href="#cache-setup" id="markdown-toc-cache-setup">Cache Setup</a></li> <li><a href="#cache-access-ports-and-firewalls" id="markdown-toc-cache-access-ports-and-firewalls">Cache Access, Ports, and Firewalls</a></li> <li><a href="#cache-maintenance" id="markdown-toc-cache-maintenance">Cache Maintenance</a></li> <li><a href="#cache-bandwidth" id="markdown-toc-cache-bandwidth">Cache Bandwidth</a></li> <li><a href="#cache-monitoring" id="markdown-toc-cache-monitoring">Cache Monitoring</a></li> </ol> </details> <p>Cache Daemon Release Notes ————————–</p> <p>LOCKSS periodically releases new Daemon versions. Some releases are pure bug fixes others include new features. Our <a href="https://wiki.metaarchive.org/metawiki/index.php/CacheDaemon_ReleaseNotes">Daemon Release Notes</a> page summarizes the changes that are relevant to the MetaArchive network.</p> <h2 id="cache-purchasing"> <a href="#cache-purchasing" class="anchor-heading" aria-labelledby="cache-purchasing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cache Purchasing </h2> <p>In order to keep the workloads as reasonable as possible at each member institution, the MetaArchive Cooperative makes a selection of one hardware configuration in October of each year, and supports the installation and maintenance of the network’s software across all of the servers in the network that adopt that configuration. The current hardware Technical Specifications can be obtained <a href="http://www.metaarchive.org/public/resources/charter_member/ma_2014technicalspecifications.pdf">here</a></p> <p>Member institutions that choose to implement this hardware gain the assistance of the MetaArchive central staff and extended community in the installation, maintenance, and troubleshooting of their preservation server. This substantially decreases the burden of work on the local systems administrators at member sites.</p> <p>The MetaArchive identifies a vendor with the most competitive product that meets our current Technical Specifications. For new Member institutions that must provide additional documentation to their Office of Procurement to justify purchases from such vendors in the event they are not registered with their institution, the MetaArchive is providing a <a href="http://www.metaarchive.org/public/resources/for_members/Sole_Source_Procurement.doc">Sole Source Checklist</a> to facilitate purchase from our preferred vendor.</p> <h2 id="cache-setup"> <a href="#cache-setup" class="anchor-heading" aria-labelledby="cache-setup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cache Setup </h2> <ol> <li>The member institution provides an IP and domain name for the new cache.</li> <li>MetaArchive staff makes sure the new cache has access to the MetaArchive configuration files</li> <li>MetaArchive staff updates the IP lists used by web server administrators at member institutions to maintain firewall rules allowing the new cache to access memeber content.</li> <li>MetaArchive Staff provides an ISO and install instructions <a href="https://wiki.metaarchive.org/metawiki/index.php/Cache_Configuration">Cache Configuration</a></li> </ol> <h2 id="cache-access-ports-and-firewalls"> <a href="#cache-access-ports-and-firewalls" class="anchor-heading" aria-labelledby="cache-access-ports-and-firewalls"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cache Access, Ports, and Firewalls </h2> <p>The LOCKSS daemon’s web interface runs on port 8081. Caches communicate with each other by sending and receiving messages on port 9729. Caches provide port 8080 as a proxy port for preserved content, useful when content needs to be restored. Port 22 is used to ssh into a cache.</p> <p>For proper monitoring by the central staff port 8081 needs to be opened to administrative servers. For network communication to work smoothly administrators need to make sure that port 9729 of the caches under their supervision are open to all other cache IPs in the network.</p> <p>The relevant IP addresses are hosted at two urls. Detailed instructions about how to use these IP lists can be found in the README file at the bottom of the lists:</p> <ol> <li><a href="http://admin.metaarchive.org/protected/network/ips">admin.metaarchive.org/protected/network/ips</a>. Access to this list requires use of the relevant login/pass on our <a href="https://wiki.metaarchive.org/metawiki/index.php/Credentials">Credentials</a> page.</li> <li><a href="http://admin.metaarchive.org/network/ips">admin.metaarchive.org/network/ips/</a>. Access to this list is open to all of the caches in the network.</li> </ol> <h2 id="cache-maintenance"> <a href="#cache-maintenance" class="anchor-heading" aria-labelledby="cache-maintenance"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cache Maintenance </h2> <p>Occasionally MetaArchive staff ask system administrators to perform local administration tasks. This happens infrequently. It usually involves executing specific command or scripts provided by MetaArchive staff.</p> <p>The commands needed to perform maintenance tasks are detailed in <a href="https://wiki.metaarchive.org/metawiki/index.php/CachesMaintain">CachesMaintain</a></p> <h2 id="cache-bandwidth"> <a href="#cache-bandwidth" class="anchor-heading" aria-labelledby="cache-bandwidth"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cache Bandwidth </h2> <ul> <li>The bandwidth for the cache has two parts.</li> <li>There is almost always a low amount of bandwidth being used for communications with the other caches. Short messages are constantly sent back and forth. A very busy cache might send and receive 300-400 Mbytes of data in a week in these messages.</li> <li>The second part is when the cache needs to ingest content. This is generally a lot of bandwidth over short periods of time. Your cache might need to receive from a few GBytes of data, to hundreds of Gbytes over just a day or two. Right now this ingest happens maybe once or twice a month at most.</li> <li>When it comes to bandwidth the peak usage comes when our members are having their own content ingested by the other caches in the network. But this is not an issue for your Lockss cache, it will be an issue for you content server.</li> </ul> <h2 id="cache-monitoring"> <a href="#cache-monitoring" class="anchor-heading" aria-labelledby="cache-monitoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cache Monitoring </h2> <p>Some of our members use Nagios to monitor their servers. A suggested configuration for metaarchive/LOCKSS caches can be found at <a href="https://wiki.metaarchive.org/metawiki/index.php/CacheNagios">CacheNagios</a></p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
